<mat-sidenav-container class="sidenav-container" [hasBackdrop]="true">
  
  <mat-sidenav #sidenav 
               mode="over" 
               position="end" 
               fixedInViewport="true"
               [fixedTopGap]="0"
               [fixedBottomGap]="0"
               class="app-sidenav">
               
    <div class="sidenav-header">
      <h3>Menu</h3>
      <button mat-icon-button (click)="sidenav.close()">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <mat-nav-list class="nav-texto">
      <a mat-list-item routerLink="/" (click)="sidenav.close()">Home</a>
      <a mat-list-item routerLink="/quem-somos" (click)="sidenav.close()">Quem Somos</a>
      <a mat-list-item routerLink="/projetos" (click)="sidenav.close()">Projetos</a>
      
      <mat-divider></mat-divider>

      @if (authService.currentUser()) {
        <a mat-list-item routerLink="/perfil" (click)="sidenav.close()">
          <mat-icon  matListItemIcon>person</mat-icon>
          <span matListItemTitle>Minha Conta</span>
        </a>
        <a mat-list-item routerLink="/diario-de-bordo" (click)="sidenav.close()">
          <mat-icon matListItemIcon>book</mat-icon> <span matListItemTitle>Diário de Bordo</span>
        </a>
        <a mat-list-item (click)="logout(); sidenav.close()">
          <mat-icon matListItemIcon>logout</mat-icon>
          <span matListItemTitle>Sair</span>
        </a>
      } @else {
        <a mat-list-item routerLink="/login" (click)="sidenav.close()">
          <span matListItemTitle>Entrar /Cadastrar</span>
        </a>
      }
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content style="overflow: visible;">
    <mat-toolbar color="primary" class="toolbar">
      
      <div class="logo-container">
        <img src="assets/logo_st_t.png" alt="Logo">
        <p>Jovens Cientistas</p>
      </div>
    
      <span class="spacer"></span>
    
      <nav class="header_nav desktop-only">
        <a mat-button routerLink="/">Home</a>
        <a mat-button routerLink="/quem-somos">Quem Somos</a>
        <a mat-button routerLink="/projetos">Projetos</a>
    
        @if (authService.currentUser()) {
          <button id="botao-icon" mat-button [matMenuTriggerFor]="menuProfile">
            <i class="pi pi-user" id="icon"></i>
          </button>
          <mat-menu  #menuProfile="matMenu" class="menu-customizado">
            <div class="menu-group">
              <button mat-menu-item routerLink="/perfil">
                <mat-icon>person_outline</mat-icon>
                <span>Minha Conta</span>
              </button>
              
              <button mat-menu-item routerLink="/diario-de-bordo">
                <mat-icon>book</mat-icon>
                <span>Diário de Bordo</span>
              </button>
            </div>

            <div class="menu-separator"></div>

            <div class="menu-group">
              <button mat-menu-item (click)="logout()" class="item-sair">
                <mat-icon>logout</mat-icon>
                <span>Sair</span>
              </button>
            </div>
          </mat-menu>
        }
        
        @if (!authService.currentUser()) {
          <a mat-button routerLink="/login" class="btn-login" style="background-color: rgb(255, 255, 255); color: black; border-radius: 16px;">Entrar</a>
        }
      </nav>
    
      <button mat-icon-button class="mobile-menu-button mobile-only" (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
    
    </mat-toolbar>
  </mat-sidenav-content>

</mat-sidenav-container>

